---
description: 
globs: 
alwaysApply: false
---
# Tailwind CSS v4 + Astro Best Practices

## Core Setup

**CSS Import**: Use `@import "tailwindcss"` (not `@tailwind` directives)
**Astro Config**: Use `@tailwindcss/vite` plugin, not `@astrojs/tailwind`
**Build**: JIT compilation is default - no configuration needed

## Implementation Patterns

### Utility-First Approach
- Apply classes directly in HTML: `class="text-xl font-bold text-gray-900"`
- Avoid `@apply` directive - use component frameworks instead
- Use arbitrary values sparingly: `h-[60vh]` only when necessary

### Responsive Design
```astro
<div class="text-sm md:text-lg lg:text-xl">
  Mobile-first responsive text
</div>
```

### Component Structure
```astro
<!-- Hero Section -->
<section class="relative bg-cover bg-center h-[60vh] flex items-center justify-center">
  <div class="relative z-10 text-center max-w-4xl mx-auto px-4">
    <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">Title</h1>
  </div>
</section>
```

### Grid Layouts
```astro
<!-- Stats Grid -->
<section class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
  <div class="text-center p-6 bg-gray-50 rounded-lg border">
    <span class="block text-3xl font-bold text-blue-600">Value</span>
  </div>
</section>
```

## Typography Plugin Integration

**Config**: Add `@tailwindcss/typography` to plugins
**Usage**: Apply `prose` class to content containers
**Customization**: Use `prose-lg`, `prose-blue` modifiers

## Performance Optimization

- Tailwind v4 auto-purges unused CSS
- Prefer utility classes over custom CSS
- Use design tokens from `tailwind.config.js`
- Leverage CSS cascade layers for specificity

## Common Patterns

**Cards**: `p-6 border border-gray-200 rounded-lg bg-white hover:shadow-md`
**Buttons**: `px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700`
**Containers**: `max-w-6xl mx-auto px-4 sm:px-6 lg:px-8`

## Critical Best Practices

### Background Images
- **ALWAYS use utility classes**: `bg-[url('/image.jpg')]` not `style="background-image: url()"`
- **Combine with positioning**: `bg-cover bg-center bg-no-repeat`
- **Avoid inline styles**: Breaks utility-first consistency

### Pseudo-element Content
- **Use empty quotes**: `before:content-['']` (single quotes inside are safe)
- **Required for rendering**: Pseudo-elements need content property to display
- **Alternative**: `before:content-[""]` or omit if decorative only

### Hero Section Heights
- **Mobile-first**: Start with `h-[50vh]` for mobile, scale up with breakpoints
- **Responsive scaling**: `h-[50vh] sm:h-[70vh] md:h-[80vh]`
- **Minimum heights**: Add `min-h-[300px]` for small screens
- **Avoid**: Sudden height jumps that affect mobile UX

### Performance Patterns
```astro
<!-- Optimal hero section -->
<section class="relative bg-[url('/hero.jpg')] bg-cover bg-center bg-no-repeat 
             h-[50vh] sm:h-[70vh] md:h-[80vh] min-h-[300px] 
             flex items-center justify-center
             before:absolute before:inset-0 before:bg-black/40 before:z-[1] before:content-['']">
  <div class="relative z-10 text-center text-white">
    <!-- Content -->
  </div>
</section>
```

## Troubleshooting

- **Build errors**: Check Vite plugin configuration
- **Missing styles**: Verify content paths in config
- **Specificity issues**: Use `!important` sparingly, prefer cascade layers
- **Pseudo-element not showing**: Ensure `before:content-['']` is present
- **Background image not loading**: Use `bg-[url()]` utility, avoid inline styles
